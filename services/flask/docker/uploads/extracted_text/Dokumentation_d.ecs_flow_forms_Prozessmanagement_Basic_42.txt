d.vetop
academy
Tutorial d.ecs forms basis

7.4.4. Ergaénzung eines Suchfeldes

Das Mitarbeiter-Panel stellt aktuell nur die Daten dar und kénnte Uber eine Anpassung des ,,Personal-
ID’-Feldes auch neue Daten abhangig von der eingegebenen ID ermitteln. Dazu muss aber die ID
bekannt sein!

Um hier eine User-Unterstiitzung zu realisieren, wird zusatzlich noch ein Suchfeld integriert.

Mitarbeiter-Datéen ©

“Vorname: - | * Personal-ID-

ee
- Yorgesetzter - -| * Resturlaub -

 

 

 

Um hier die Darstellung des Such-oder Eingabefeldes zu variieren, kann das Suchfeld denselben Platz
wie das Eingabe-Feld einnehmen und Uber einen zusatzlichen Parameter in der Darstellung
onfiguriert werden (Kapselung).

Suchhilfe hinzufaigen »

 

 

Einfache Suchhilfe

d.3 Benutzersuche

d.3 Wertemenge (dynamisch in Tabelle)
d.3 Wertemenge (dynamisch)

d.3 Wertemenge (statisch)
Datenbank-Suche

 

eCeeceoco

 

 

 

 

 

 

Das Suchfeld bendtigt ein Groovy-Skript zur Darstellung der Suchliste abhangig von der
vorgenommenen Eingabe.

  

 

def personalIDSearch( def form ) {

 

// Get the autocomplete input string
def inputString = form.params.getValue( "in" );

// Create a query
String query = """SELECT dok dat_feld 1 AS ‘id',
dok_dat_feld_1 + ' ' + dok_dat_feld 4+ ' '" +
dok_dat_feld_7 AS 'caption'
FROM firmen_spezifisch
WHERE kue_dokuart = 'APERS' AND ( dok_dat_feld_1 LIKE ?
OR dok_dat_feld_7 LIKE ?7)""";

def params = [inputString + "%", inputString + "%"];

// Execute query
form.engine.sql.executeAndStore( "EmployeeDB", query, params );

// Set info

if( form.data.getValues( "caption" ) == null ) {
form.data.setValue( "caption", "< No items found >" );
form.data.setValue( "id", null );

}

return null;
} // end of personalIDSearch

Thema - Urlaubsantrag Step by Step
43/81 d.velop